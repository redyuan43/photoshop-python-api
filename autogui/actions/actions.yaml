version: 1 
actions: 
  screenshot: 
    display_name: 截取当前窗口 
    category: system 
    executor: python_script 
    script: screenshot_photoshop.py 
    description: 截取当前 Photoshop 窗口截图并保存到指定路径。 
    synonyms: ["截图", "截屏", "屏幕截图", "screenshot", "screen shot", "capture screen", "保存屏幕", "拍一下屏幕"] 
    default_params: 
      output_dir: shots 
      filename_template: "photoshop_{timestamp}.png" 
    args_template: 
      - "--out" 
      - "{output_path}" 
 
  status_snapshot: 
    display_name: 获取 Photoshop 状态 
    category: status 
    executor: python_script 
    script: get_photoshop_status.py 
    description: 使用 COM 汇总当前工具、文档、图层、选区、前景/背景色信息。 
    synonyms: ["状态", "当前状态", "document info", "photoshop status"] 
 
  reset: 
    display_name: 复位工具 
    category: basics 
    executor: hotkey 
    flags: [] 
    description: 复位工具（等价 Alt+W, K, R 的稳定序列）。 
    synonyms: ["复位", "重置工具", "reset"] 
 
  file_save: 
    display_name: 保存文档 
    category: documents 
    executor: hotkey 
    flags: ["--file-save"] 
    description: 保存当前文档（Ctrl+S）。 
    synonyms: ["保存", "保存文件", "保存文档"] 
 
  layer_up: 
    display_name: 图层上移 
    category: layers 
    executor: hotkey 
    flags: ["--layer-up"] 
    description: 图层向上移动（Ctrl+}]）。 
    synonyms: ["上移图层", "提高图层", "上一层"] 
 
  hue_preset: 
    display_name: 运行动作（色调预设） 
    category: filters 
    executor: do_javascript 
    template: 'app.doAction("{ACTION_NAME}", "{ACTION_SET}");' 
    default_params: 
      ACTION_NAME: ApplyCyanotype 
      ACTION_SET: MyHuePresets 
    description: 执行 Photoshop 动作集中的指定动作（通过 app.doJavaScript）。 
    synonyms: ["动作", "动作集", "预设", "色调预设", "hue preset", "doAction"] 
 
  fit_screen: 
    display_name: 适应屏幕 
    category: view 
    executor: dom_api 
    callable: autogui.dom_actions:fit_on_screen 
    description: 让当前文档适应屏幕，若无文档会自动新建测试文档。 
    synonyms: ["适应屏幕", "fit", "fit screen", "放到屏幕", "全屏查看"] 
 
  new_document: 
    display_name: 创建新文档 
    category: documents 
    executor: dom_api 
    callable: autogui.dom_actions:create_new_document 
    description: 使用 COM 创建指定尺寸的新文档。 
    synonyms: ["新建文档", "创建新图", "新画布"] 
    params: 
      width: 
        type: number 
        required: false 
        description: 宽度（像素，默认 1920） 
      height: 
        type: number 
        required: false 
        description: 高度（像素，默认 1080） 
      resolution: 
        type: number 
        required: false 
        description: 分辨率（每英寸像素，默认 72） 
      name: 
        type: string 
        required: false 
        description: 文档名称（默认 LLM_Document） 
 
  gaussian_blur: 
    display_name: 高斯模糊 
    category: filters 
    executor: dom_api 
    callable: autogui.dom_actions:apply_gaussian_blur 
    description: 对当前图层应用高斯模糊，可指定半径。 
    synonyms: ["模糊", "高斯", "模糊一下", "gaussian blur"] 
    params: 
      radius: 
        type: number 
        required: false 
        description: 模糊半径，像素（默认 5.0） 
 
  list_layers:
    display_name: 列出所有图层
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:list_layers_flat
    description: 返回当前文档的扁平化图层列表。
    synonyms: ["列出图层", "有哪些图层", "show layers", "layer list"]

  activate_layer_name:
    display_name: 按名称切换图层
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:activate_layer_by_name_action
    description: 根据图层名称激活对应图层。
    synonyms: ["切换图层", "激活图层", "layer by name"]
    params:
      target:
        type: string
        required: true
        description: 图层名称（精确匹配）

  activate_layer_index:
    display_name: 按索引切换图层
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:activate_layer_by_index_action
    description: 根据扁平化索引激活图层。
    synonyms: ["按编号图层", "layer index", "切到第几个图层"]
    params:
      index:
        type: number
        required: false
        description: 图层扁平索引（list_layers 结果的 index），不填则默认最底层
      position:
        type: string
        required: false
        description: 可选语义位置（top/bottom/last 等），优先级高于 index


  list_documents:
    display_name: List documents
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:list_documents
    description: Enumerate all open Photoshop documents and return their metadata.
    synonyms: ["list documents", "列出文档", "documents list", "open documents"]

  open_document:
    display_name: Open document
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:open_document
    description: Open a PSD/PSB or supported image file in Photoshop.
    synonyms: ["open file", "打开文档", "open psd"]
    params:
      path:
        type: path
        required: true
        description: Absolute or relative path to the file.

  open_document_as:
    display_name: Open document as…
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:open_document_as
    description: File > Open As (Shift+Ctrl+O) with optional format override.
    synonyms: ["open as", "open format", "Shift+Ctrl+O", "鎵撳紑 format"]
    params:
      path:
        type: path
        required: true
        description: File path to open.
      format:
        type: string
        required: false
        description: Optional format hint (e.g. psd, png, jpeg).

  open_document_as_smart_object:
    display_name: Open as Smart Object
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:open_document_as_smart_object
    description: File > Open as Smart Object (Alt+Shift+Ctrl+O).
    synonyms: ["open smart object", "smart object open", "Alt+Shift+Ctrl+O", "鎵撳紑鏅鸿兘瀵硅薄"]
    params:
      path:
        type: path
        required: true
        description: File path to open.
      format:
        type: string
        required: false
        description: Optional format hint (e.g. psd, png, jpeg).

  save_document_dom:
    display_name: Save document (DOM)
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:save_document
    description: Save the active Photoshop document via COM without hotkeys.
    synonyms: ["save document", "保存文档", "dom save"]

  save_document_as:
    display_name: Save document as
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:save_document_as
    description: Save the active document to a new path; format inferred from extension.
    synonyms: ["save as", "另存为", "export psd"]
    params:
      path:
        type: path
        required: true
        description: Destination path (extension decides format).

  revert_document:
    display_name: Revert document
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:revert_document
    description: Revert the active document to the last saved state.
    synonyms: ["revert", "撤销更改", "restore document"]

  duplicate_document:
    display_name: Duplicate document
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:duplicate_document
    description: Duplicate the active document optionally with a new name.
    synonyms: ["duplicate document", "复制文档", "document copy"]
    params:
      name:
        type: string
        required: false
        description: Optional name for the duplicated document.

  close_document_dom:
    display_name: Close document
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:close_document
    description: Close the active document, optionally saving changes.
    synonyms: ["close document", "关闭文档", "close file"]
    params:
      save:
        type: boolean
        required: false
        description: Save changes before closing (default false).

  close_all_documents_dom:
    display_name: Close all documents
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:close_all_documents
    description: Close every open Photoshop document.
    synonyms: ["close all", "关闭所有文档", "close everything"]
    params:
      save:
        type: boolean
        required: false
        description: Save changes before closing (default false).




  close_other_documents:
    display_name: Close other documents
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:close_other_documents
    description: Close every document except the active one (File > Close Others, Alt+Ctrl+P).
    synonyms: ["close others", "鍏抽棴鍏朵粬鏂囨。", "Alt+Ctrl+P"]
    params:
      save:
        type: boolean
        required: false
        description: Save changes before closing the other files.

  browse_in_bridge:
    display_name: Browse in Bridge
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:browse_in_bridge
    description: Launch Adobe Bridge (Alt+Ctrl+O) optionally targeting a folder/file.
    synonyms: ["browse bridge", "Bridge", "Alt+Ctrl+O", "鍔犺浇Bridge"]
    params:
      path:
        type: path
        required: false
        description: Optional folder or file path for Bridge to reveal.

  close_and_browse_in_bridge:
    display_name: Close & go to Bridge
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:close_and_browse_in_bridge
    description: Close the active document then call Browse in Bridge (Shift+Ctrl+W).
    synonyms: ["close and go to bridge", "Shift+Ctrl+W", "close go bridge"]
    params:
      save:
        type: boolean
        required: false
        description: Save the current document before closing.
      path:
        type: path
        required: false
        description: Optional folder or file path for Bridge.

  save_document_copy:
    display_name: Save a copy
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:save_document_copy
    description: File > Save a Copy… (Alt+Ctrl+S) without leaving the DOM context.
    synonyms: ["save copy", "Alt+Ctrl+S", "save a copy", "淇濆瓨澶嶅埗"]
    params:
      path:
        type: path
        required: true
        description: Destination path for the copy.

  get_document_info:
    display_name: File info (metadata)
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:get_document_info
    description: Return document metadata (File > File Info…, Alt+Shift+Ctrl+I).
    synonyms: ["file info", "metadata", "Alt+Shift+Ctrl+I", "鏂囨。淇℃伅"]
    params:
      include_empty:
        type: boolean
        required: false
        description: Include empty metadata fields (default false).

  print_document:
    display_name: Print document
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:print_document
    description: Trigger File > Print… (Ctrl+P), optionally suppressing dialogs.
    synonyms: ["print", "Ctrl+P", "鎵撳嵃"]
    params:
      show_dialogs:
        type: boolean
        required: false
        description: Show Photoshop print dialogs (default true).

  print_one_copy:
    display_name: Print one copy
    category: documents
    executor: dom_api
    callable: autogui.dom_actions:print_one_copy
    description: Execute File > Print One Copy (Alt+Shift+Ctrl+P) without dialogs.
    synonyms: ["print one copy", "Alt+Shift+Ctrl+P", "fast print"]

  exit_photoshop:
    display_name: Exit Photoshop
    category: system
    executor: dom_api
    callable: autogui.dom_actions:exit_photoshop
    description: File > Exit (Ctrl+Q) with optional force-close behavior.
    synonyms: ["exit", "quit photoshop", "Ctrl+Q", "閫€鍑哄簲鐢?"]
    params:
      save:
        type: boolean
        required: false
        description: When forcing, save documents before quitting (default false).
      force:
        type: boolean
        required: false
        description: Close documents automatically before quitting (default false).
  rotate_layer:
    display_name: Rotate active layer
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:rotate_active_layer
    description: Rotate the active layer by a given angle around a specified anchor.
    synonyms: ["rotate layer", "旋转图层", "layer rotate"]
    params:
      angle:
        type: number
        required: true
        description: Rotation angle in degrees (positive = clockwise).
      anchor:
        type: string
        required: false
        description: Anchor position (e.g., MiddleCenter, TopLeft).

  convert_layer_to_smart_object:
    display_name: Convert layer to smart object
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:convert_layer_to_smart_object
    description: Convert the active layer into a smart object via COM.
    synonyms: ["smart object", "转换智能对象", "convert smart object"]

  rasterize_layer:
    display_name: Rasterize layer
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:rasterize_layer
    description: Rasterize the active layer (entire layer by default).
    synonyms: ["rasterize", "栅格化图层", "convert to pixels"]
    params:
      mode:
        type: string
        required: false
        description: Rasterize mode (e.g., EntireLayer, TextContents).

  copy_selection:
    display_name: Copy selection
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:copy_selection
    description: Copy the current selection to the clipboard.
    synonyms: ["copy selection", "复制选区", "copy region"]
    params:
      merge:
        type: boolean
        required: false
        description: Copy merged pixels instead of active layer only.

  paste_to_document:
    display_name: Paste into document
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:paste_to_document
    description: Paste clipboard contents into the active document as a new layer.
    synonyms: ["paste layer", "粘贴图层", "paste selection"]

  import_image_as_layer:
    display_name: Import image as layer
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:import_image_as_layer
    description: Load an external image and duplicate it into the current document as a new layer.
    synonyms: ["import image", "导入图层", "place image"]
    params:
      path:
        type: path
        required: true
        description: Image file to load and place as a layer.

  replace_layer_with_file:
    display_name: Replace layer with file
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:replace_layer_with_file
    description: Replace the active (smart object) layer contents with another file; falls back to placing a new layer.
    synonyms: ["replace image", "替换图层", "replace smart object"]
    params:
      path:
        type: path
        required: true
        description: Replacement image path.

  remove_background_layer:
    display_name: Remove background layer
    category: layers
    executor: dom_api
    callable: autogui.dom_actions:remove_background_layer
    description: Delete the background layer if present.
    synonyms: ["remove background", "删除背景", "drop background"]
